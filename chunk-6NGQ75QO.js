import{a as D}from"./chunk-IR4MGW63.js";import{j as B}from"./chunk-IW6AFLJC.js";import{a as M}from"./chunk-44UXRYPE.js";import{$ as v,$b as W,Bb as S,Ha as k,Ma as C,Qa as d,Xa as l,Xb as A,Ya as i,Yb as T,Za as t,_ as f,_a as E,bb as h,bc as L,cb as g,d as V,db as x,e as p,ga as _,nb as s,pb as b,ua as y,xa as o,yb as m,zb as I}from"./chunk-R6KUZMSD.js";var a=V(M());var w=n=>["/products",n];function N(n,r){if(n&1){let e=h();i(0,"button",7),g("click",function(){f(e);let u=x();return v(u.clearAll())}),s(1," Tout effacer "),t()}}function R(n,r){n&1&&(i(0,"div",8)(1,"div",9),s(2,"\u{1F499}"),t(),i(3,"p",10),s(4,"Aucun favori pour l\u2019instant."),t(),i(5,"a",11),s(6," Parcourir le catalogue "),t()())}function j(n,r){if(n&1){let e=h();i(0,"div",12)(1,"a",13),E(2,"img",14),t(),i(3,"div",15)(4,"a",16),s(5),t(),i(6,"div",17),s(7),I(8,"number"),t(),i(9,"div",18)(10,"a",19),s(11,"Voir"),t(),i(12,"button",20),g("click",function(){let u=f(e).$implicit,O=x();return v(O.remove(u))}),s(13," Retirer "),t()()()()}if(n&2){let e=r.$implicit;o(),l("routerLink",m(10,w,e.id)),o(),l("src",e.image,y)("alt",e.title),o(2),l("routerLink",m(12,w,e.id)),o(),b(" ",e.title," "),o(2),b("",S(8,7,e.price,"1.2-2")," DT"),o(3),l("routerLink",m(14,w,e.id))}}var F=class n{constructor(r){this.wl=r}items=_([]);ngOnInit(){this.reload(),window.addEventListener("wishlistUpdated",this.reload)}ngOnDestroy(){window.removeEventListener("wishlistUpdated",this.reload)}reload=()=>this.items.set(this.wl.list());remove(r){return p(this,null,function*(){(yield a.default.fire({icon:"warning",title:"Retirer ce favori ?",text:r.title,showCancelButton:!0,confirmButtonText:"Oui, retirer",cancelButtonText:"Annuler",confirmButtonColor:"#dc2626"})).isConfirmed&&(this.wl.remove(r.id),this.reload(),a.default.fire({toast:!0,position:"top-end",timer:1200,showConfirmButton:!1,icon:"success",title:"Retir\xE9 des favoris"}))})}clearAll(){return p(this,null,function*(){(yield a.default.fire({icon:"warning",title:"Tout effacer ?",text:"Tous vos favoris seront supprim\xE9s.",showCancelButton:!0,confirmButtonText:"Oui, tout effacer",cancelButtonText:"Annuler",confirmButtonColor:"#dc2626"})).isConfirmed&&(this.wl.clearAll(),this.reload(),a.default.fire({toast:!0,position:"top-end",timer:1200,showConfirmButton:!1,icon:"success",title:"Favoris vid\xE9s"}))})}static \u0275fac=function(e){return new(e||n)(k(D))};static \u0275cmp=C({type:n,selectors:[["app-account-wishlist"]],decls:8,vars:3,consts:[[1,"p-6","lg:p-8"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-semibold"],["class","px-3 py-1.5 rounded-lg border text-white bg-rose-600 hover:bg-rose-700 border-rose-700",3,"click",4,"ngIf"],["class","text-center p-10 rounded-xl border bg-white",4,"ngIf"],[1,"grid","sm:grid-cols-2","lg:grid-cols-3","gap-4"],["class","rounded-xl border bg-white overflow-hidden hover:shadow-md transition",4,"ngFor","ngForOf"],[1,"px-3","py-1.5","rounded-lg","border","text-white","bg-rose-600","hover:bg-rose-700","border-rose-700",3,"click"],[1,"text-center","p-10","rounded-xl","border","bg-white"],[1,"text-5xl","mb-2"],[1,"font-medium"],["routerLink","/catalog",1,"inline-block","mt-3","px-4","py-2","rounded-lg","bg-blue-600","text-white"],[1,"rounded-xl","border","bg-white","overflow-hidden","hover:shadow-md","transition"],[1,"block",3,"routerLink"],[1,"h-40","w-full","object-cover",3,"src","alt"],[1,"p-4"],[1,"font-semibold","line-clamp-2","hover:underline",3,"routerLink"],[1,"mt-1","text-blue-600","font-bold"],[1,"mt-3","flex","gap-2"],[1,"px-3","py-1.5","rounded-lg","bg-blue-600","text-white",3,"routerLink"],[1,"px-3","py-1.5","rounded-lg","border","text-rose-600","border-rose-300","hover:bg-rose-50",3,"click"]],template:function(e,c){e&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2),s(3,"Mes Favoris"),t(),d(4,N,2,0,"button",3),t(),d(5,R,7,0,"div",4),i(6,"div",5),d(7,j,14,16,"div",6),t()()),e&2&&(o(4),l("ngIf",c.items().length),o(),l("ngIf",c.items().length===0),o(2),l("ngForOf",c.items()))},dependencies:[L,A,T,B,W],encapsulation:2})};export{F as AccountWishlist};
